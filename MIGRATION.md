# ç›®å½•ç»“æ„ä¼˜åŒ–è¿ç§»æŒ‡å—

æœ¬æ–‡æ¡£è¯´æ˜äº†ç›®å½•ç»“æ„ä¼˜åŒ–çš„å˜æ›´å†…å®¹å’Œè¿ç§»æ­¥éª¤ã€‚

## ğŸ“Š å˜æ›´æ¦‚è§ˆ

### 1. ç›®å½•é‡å‘½å

| æ—§è·¯å¾„ | æ–°è·¯å¾„ | è¯´æ˜ |
|--------|--------|------|
| `assert/` | `assets/` | ä¿®æ­£æ‹¼å†™é”™è¯¯ï¼Œassetsæ˜¯èµ„æºæ–‡ä»¶çš„æ ‡å‡†å‘½å |

### 2. æ–°å¢ç›®å½•

| ç›®å½• | è¯´æ˜ |
|------|------|
| `examples/` | ä½¿ç”¨ç¤ºä¾‹ä»£ç  |
| `examples/basic/` | åŸºç¡€ç¤ºä¾‹ - ä½¿ç”¨é…ç½®æ–‡ä»¶ |
| `examples/database/` | æ•°æ®åº“æ¨¡å¼ç¤ºä¾‹ |
| `examples/statement/` | SQLæ–‡ä»¶æ¨¡å¼ç¤ºä¾‹ |
| `examples/advanced/` | é«˜çº§ç”¨æ³•ç¤ºä¾‹ |

### 3. æ–‡ä»¶è·¯å¾„æ›´æ–°

æ‰€æœ‰å¼•ç”¨ `assert` ç›®å½•çš„åœ°æ–¹éƒ½å·²æ›´æ–°ä¸º `assets`ï¼š

- âœ… `cmd/jen/main.go` - é»˜è®¤é…ç½®æ–‡ä»¶è·¯å¾„
- âœ… `assets/application.yml` - SQLæ–‡ä»¶è·¯å¾„
- âœ… `build.sh` - æ„å»ºè„šæœ¬
- âœ… `README.md` - æ–‡æ¡£é“¾æ¥
- âœ… `parser/database_parser_test.go` - æµ‹è¯•æ–‡ä»¶è·¯å¾„
- âœ… `parser/statement_parser_test.go` - æµ‹è¯•æ–‡ä»¶è·¯å¾„

## ğŸ”„ è¿ç§»æ­¥éª¤

### æ­¥éª¤1: é‡å‘½åç›®å½•

```bash
# åœ¨é¡¹ç›®æ ¹ç›®å½•æ‰§è¡Œ
mv assert assets
```

### æ­¥éª¤2: æ›´æ–°é…ç½®æ–‡ä»¶

å¦‚æœä½ æœ‰è‡ªå·±çš„é…ç½®æ–‡ä»¶å¼•ç”¨äº† `assert` ç›®å½•ï¼Œéœ€è¦æ›´æ–°ï¼š

```yaml
# æ—§é…ç½®
sql_file_path: ~/dev/model_infrax/assert/schema.sql

# æ–°é…ç½®
sql_file_path: ~/dev/model_infrax/assets/schema.sql
```

### æ­¥éª¤3: æ›´æ–°ä»£ç ä¸­çš„è·¯å¾„å¼•ç”¨

å¦‚æœä½ çš„ä»£ç ä¸­æœ‰ç¡¬ç¼–ç çš„è·¯å¾„ï¼Œéœ€è¦æ›´æ–°ï¼š

```go
// æ—§ä»£ç 
config.NewConfigger("/path/to/assert/application.yml")

// æ–°ä»£ç 
config.NewConfigger("/path/to/assets/application.yml")
```

### æ­¥éª¤4: éªŒè¯æ›´æ”¹

```bash
# è¿è¡Œæµ‹è¯•ç¡®ä¿ä¸€åˆ‡æ­£å¸¸
go test ./...

# å°è¯•æ„å»º
go build ./cmd/jen
```

## ğŸ“ æ³¨æ„äº‹é¡¹

### 1. å‘åå…¼å®¹æ€§

ä¸ºäº†ä¿æŒå‘åå…¼å®¹ï¼Œå‘½ä»¤è¡Œå·¥å…·ä»ç„¶ä¼šå°è¯•æŸ¥æ‰¾æ—§è·¯å¾„ï¼š

```go
var defaultConfigPaths = []string{
    "./application.yml",
    "./assets/application.yml",      // æ–°è·¯å¾„
    "/Applications/jen/application.yml",
    "/Applications/jen/assets/application.yml",  // æ–°è·¯å¾„
}
```

ä½†å»ºè®®å°½å¿«è¿ç§»åˆ°æ–°è·¯å¾„ã€‚

### 2. Git å†å²

é‡å‘½åç›®å½•åï¼ŒGit ä¼šè‡ªåŠ¨è·Ÿè¸ªæ–‡ä»¶ç§»åŠ¨ï¼š

```bash
# æŸ¥çœ‹æ–‡ä»¶ç§»åŠ¨å†å²
git log --follow assets/application.yml
```

### 3. CI/CD æ›´æ–°

å¦‚æœä½ çš„ CI/CD è„šæœ¬ä¸­å¼•ç”¨äº† `assert` ç›®å½•ï¼Œéœ€è¦æ›´æ–°ï¼š

```yaml
# æ—§é…ç½®
artifacts:
  paths:
    - assert/

# æ–°é…ç½®
artifacts:
  paths:
    - assets/
```

## ğŸ¯ ä¼˜åŒ–åçš„ç›®å½•ç»“æ„

```
model_infrax/
â”œâ”€â”€ cmd/                          # å‘½ä»¤è¡Œå·¥å…·
â”‚   â””â”€â”€ jen/
â”‚       â”œâ”€â”€ main.go
â”‚       â”œâ”€â”€ wire.go
â”‚       â””â”€â”€ wire_gen.go
â”‚
â”œâ”€â”€ config/                       # é…ç½®ç®¡ç†
â”‚   â”œâ”€â”€ config.go
â”‚   â””â”€â”€ builder.go
â”‚
â”œâ”€â”€ parser/                       # è§£æå™¨
â”‚   â”œâ”€â”€ parser.go
â”‚   â”œâ”€â”€ database_parser.go
â”‚   â”œâ”€â”€ database_parser_test.go
â”‚   â”œâ”€â”€ statement_parser.go
â”‚   â””â”€â”€ statement_parser_test.go
â”‚
â”œâ”€â”€ generator/                    # ä»£ç ç”Ÿæˆå™¨
â”‚   â”œâ”€â”€ generator.go
â”‚   â”œâ”€â”€ template_func.go
â”‚   â”œâ”€â”€ embed.go
â”‚   â””â”€â”€ template/
â”‚       â”œâ”€â”€ dao.template
â”‚       â”œâ”€â”€ dto.template
â”‚       â”œâ”€â”€ po.template
â”‚       â”œâ”€â”€ itea-go/
â”‚       â””â”€â”€ tools/
â”‚
â”œâ”€â”€ model/                        # æ•°æ®æ¨¡å‹
â”‚   â”œâ”€â”€ schema.go
â”‚   â”œâ”€â”€ column.go
â”‚   â””â”€â”€ index.go
â”‚
â”œâ”€â”€ pkg/                          # å…¬å…±åŒ…
â”‚   â””â”€â”€ app/
â”‚       â””â”€â”€ app.go
â”‚
â”œâ”€â”€ tool/                         # å·¥å…·å‡½æ•°
â”‚   â”œâ”€â”€ copy.go
â”‚   â”œâ”€â”€ encode.go
â”‚   â”œâ”€â”€ file.go
â”‚   â”œâ”€â”€ ptr.go
â”‚   â”œâ”€â”€ str.go
â”‚   â””â”€â”€ var.go
â”‚
â”œâ”€â”€ examples/                     # ä½¿ç”¨ç¤ºä¾‹ âœ¨ æ–°å¢
â”‚   â”œâ”€â”€ README.md
â”‚   â”œâ”€â”€ basic/
â”‚   â”‚   â””â”€â”€ main.go
â”‚   â”œâ”€â”€ database/
â”‚   â”‚   â””â”€â”€ main.go
â”‚   â”œâ”€â”€ statement/
â”‚   â”‚   â””â”€â”€ main.go
â”‚   â””â”€â”€ advanced/
â”‚       â””â”€â”€ main.go
â”‚
â”œâ”€â”€ assets/                       # èµ„æºæ–‡ä»¶ âœ¨ é‡å‘½å
â”‚   â”œâ”€â”€ application.yml
â”‚   â”œâ”€â”€ schema.sql
â”‚   â”œâ”€â”€ install.sh
â”‚   â”œâ”€â”€ jcode
â”‚   â””â”€â”€ prompt/
â”‚       â””â”€â”€ create_sql_draft.md
â”‚
â”œâ”€â”€ api.go                        # å¯¹å¤–API
â”œâ”€â”€ wire.go                       # Wireé…ç½®
â”œâ”€â”€ wire_gen.go                   # Wireç”Ÿæˆä»£ç 
â”œâ”€â”€ build.sh                      # æ„å»ºè„šæœ¬
â”œâ”€â”€ go.mod
â”œâ”€â”€ go.sum
â”œâ”€â”€ README.md
â”œâ”€â”€ README_API.md
â””â”€â”€ MIGRATION.md                  # æœ¬æ–‡ä»¶
```

## âœ… ä¼˜åŒ–æ”¶ç›Š

1. **æ›´æ¸…æ™°çš„å‘½å**: `assets` æ¯” `assert` æ›´ç¬¦åˆè¯­ä¹‰
2. **æ›´å¥½çš„ç¤ºä¾‹**: æ–°å¢çš„ `examples` ç›®å½•æä¾›äº†å®Œæ•´çš„ä½¿ç”¨ç¤ºä¾‹
3. **æ›´æ˜“ç»´æŠ¤**: ç›®å½•ç»“æ„æ›´åŠ æ¸…æ™°ï¼Œä¾¿äºç†è§£å’Œç»´æŠ¤
4. **æ›´å¥½çš„æ–‡æ¡£**: æ¯ä¸ªç¤ºä¾‹éƒ½æœ‰è¯¦ç»†çš„æ³¨é‡Šå’Œè¯´æ˜

## ğŸ†˜ é‡åˆ°é—®é¢˜ï¼Ÿ

å¦‚æœåœ¨è¿ç§»è¿‡ç¨‹ä¸­é‡åˆ°é—®é¢˜ï¼š

1. æ£€æŸ¥æ‰€æœ‰é…ç½®æ–‡ä»¶ä¸­çš„è·¯å¾„å¼•ç”¨
2. ç¡®ä¿ `assets` ç›®å½•å­˜åœ¨ä¸”åŒ…å«æ‰€æœ‰å¿…è¦æ–‡ä»¶
3. è¿è¡Œæµ‹è¯•éªŒè¯åŠŸèƒ½æ­£å¸¸
4. æŸ¥çœ‹ [README.md](../README.md) è·å–æ›´å¤šå¸®åŠ©

## ğŸ“ è”ç³»æ–¹å¼

å¦‚æœ‰é—®é¢˜ï¼Œæ¬¢è¿æäº¤ Issue æˆ– Pull Requestã€‚